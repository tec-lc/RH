<!DOCTYPE html>
<html lang="pt-BR">
<head>

  <meta property="og:title" content="üí´‚ú® Nosso grande dia est√° chegando ‚ú®üí´"/>
  
  <meta property="og:description" content="ü§µüèªüë∞üèΩ Nada seria mais especial do que compartilhar esse momento com voc√™. üíç Clique e venha fazer parte da nossa hist√≥ria!"/>
  <meta property="og:site_name" content="lucasenatalia.netlif.app"/>

  <meta property="og:image" content="https://lucasenatalia.netlify.app/img/capaurl.png"/>
  <meta property="og:image:width" content="158"/>
  <meta property="og:image:height" content="158"/>
  <meta property="og:url" content="https://lucasenatalia.netlify.app/">
  <meta property="og:type" content="website">
  <!--<meta property="fb:app_id" content="621352837957736"/>-->


  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="img/iniciais.png">
  <link rel="stylesheet" href="css/principal.css">
  <link rel="stylesheet" href="css/carta.css">
  <title>Convite</title>
 
</head>
<body>

  <div id="oculta_topo" class="espaco_img_carta_foto" style="background-image: url('fotos/foto_31.jpg'); ">
  </div>
  <div class="FBsombra"></div>
  

  <div id="oculta_meio" class="corpo_meio">
    <div class="FBsombra"></div>
    <div class="alinhamento_meio">
      <p class="font_noivos_carta centro es_20 FBespaco_carta">  
          Lucas e Nat√°lia
      </p>
      <div class="font2 centro agosto_30">30 <span class="letra_menor">DE AGOSTO DE</span> 2025</div>
      <div class="img_carta_alinha">
        <img src="img/carta.png" class="img_carta" id="botaoPlay">
      </div>
      
    </div>
  </div>


  <div id="oculta_rodape" class="corpo_rodape">
    
    <div class="alinhamento_meio">     
        
        
        <div class="navegacao_carta">
          <p class="font2_1 centro">LINKS QUE IR√ÉO AJUDAR VOC√äS</p>
        
          <div class="lista_menu">
            <a href="confirmar_presenca.html" target="_self">
              <div class="lista_bloco_menu">
                <div class="img_menu n_confirmar"></div>
                <p class="lista_titulo_menu">Confirmar <br>presen√ßa</p>
              </div>
            </a>
          </div>

          <div class="lista_menu">
            <a href="https://maps.app.goo.gl/eS6p8tRDedi2xChQ9" target="_blank">
              <div class="lista_bloco_menu">
                <div class="img_menu n_localizacao"></div>
                <p class="lista_titulo_menu">Localiza√ß√£o</p>
              </div>
            </a>
          </div>

          <div class="lista_menu">
            <a href="lista_presentes.html" target="_self">
              <div class="lista_bloco_menu">
                <div class="img_menu n_presente"></div>
                <p class="lista_titulo_menu">Lista de <br>presentes</p>
              </div>
            </a>
          </div>

          <div class="lista_menu">
            <a href="noivos.html" target="_self">
              <div class="lista_bloco_menu">
                <div class="img_menu n_noivos"></div>
                <p class="lista_titulo_menu">Sobre os <br>noivos</p>
              </div>
            </a>
          </div>
          
          <div class="rodape"></div>
          

        </div>
        
        


    </div><!--alinhamento_meio-->
        
  </div>

  <div id="oculta_florido" class="fundo_florido"></div>




  <!-- V√≠deo e √°udio -->
  <video id="meuVideo" playsinline>
    <source src="video/video.mp4" type="video/mp4">
    Seu navegador n√£o suporta v√≠deo HTML5.
  </video>

  <audio id="meuAudio">
    <source src="audio.mp3" type="audio/mp3">
    Seu navegador n√£o suporta √°udio HTML5.
  </audio>

  



<script>
  const botao = document.getElementById('botaoPlay');
  const video = document.getElementById('meuVideo');
  const oculta_topo = document.getElementById('oculta_topo');
  const oculta_meio = document.getElementById('oculta_meio');
  const oculta_rodape = document.getElementById('oculta_rodape');
  const oculta_florido = document.getElementById('oculta_florido');

  let audioContext, source, analyser;

  async function sairDaTelaCheia() {
    if (document.fullscreenElement) await document.exitFullscreen();
  }

  function verificarPermissaoAudio() {
    // Verifica√ß√£o pr√°tica baseada em pol√≠ticas reais de bloqueio
    return !video.muted && video.volume > 0 && audioContext.state !== 'suspended';
    
  }


  botao.addEventListener('click', async () => { 
    botao.style.display = 'none';
    oculta_topo.style.display = 'none';
    oculta_meio.style.display = 'none';
    oculta_rodape.style.display = 'none';
    oculta_florido.style.display = 'none';
    video.style.display = 'block';
    
    try { 
      video.muted = false;
      video.volume = 1;

      // Contexto de √°udio
      audioContext = new (window.AudioContext || window.webkitAudioContext)();
      source = audioContext.createMediaElementSource(video);
      analyser = audioContext.createAnalyser();
      source.connect(analyser);
      analyser.connect(audioContext.destination);

      await video.play();

      // Solicita tela cheia
      const requestFullScreen = video.requestFullscreen || video.webkitRequestFullscreen || video.msRequestFullscreen;
      if (requestFullScreen) await requestFullScreen.call(video);

      // Verifica ap√≥s 5 segundos se som parece desativado
      setTimeout(async () => {
        const somOK = verificarPermissaoAudio();
        //alert(somOK);
        if (!somOK) {
          await sairDaTelaCheia();
          video.pause();
          alert("O v√≠deo est√° sendo executado sem som aud√≠vel. Por favor, ative o √°udio do navegador ou clique no bot√£o de som.");
          botao.style.display = 'block';
          oculta_topo.style.display = 'block';
          oculta_meio.style.display = 'block';
          oculta_rodape.style.display = 'block';
          oculta_florido.style.display = 'block';
          video.style.display = 'none';

        }
      }, 5000);

    } catch (error) {
      await sairDaTelaCheia();
      video.pause();
      alert("N√£o foi poss√≠vel reproduzir o v√≠deo. Permita a reprodu√ß√£o com som no navegador.");
      botao.style.display = 'block';
          oculta_topo.style.display = 'block';
          oculta_meio.style.display = 'block';
          oculta_rodape.style.display = 'block';
          oculta_florido.style.display = 'block';
          video.style.display = 'none';

    }
  });

  video.addEventListener('ended', () => {
    window.location.href = "index.html";
  });
</script>


<!--<script>
  const botao = document.getElementById('botaoPlay');
  const video = document.getElementById('meuVideo');
  const oculta_topo = document.getElementById('oculta_topo');
  const oculta_meio = document.getElementById('oculta_meio');

  async function sairDaTelaCheia() {
    if (document.fullscreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {
      if (document.exitFullscreen) {
        await document.exitFullscreen();
      } else if (document.webkitExitFullscreen) {
        await document.webkitExitFullscreen();
      } else if (document.msExitFullscreen) {
        await document.msExitFullscreen();
      }
    }
  }

  botao.addEventListener('click', async () => {
    botao.style.display = 'none';
    oculta_topo.style.display = 'none';
    oculta_meio.style.display = 'none';
    video.style.display = 'block';

    try {
      await video.play();

      // Solicita tela cheia
      const requestFullScreen = video.requestFullscreen || video.webkitRequestFullscreen || video.msRequestFullscreen;
      if (requestFullScreen) {
        await requestFullScreen.call(video);
      }

      // Verifica√ß√£o de som ap√≥s 15 segundos
      setTimeout(async () => { 
        if (video.muted || video.volume === 0) {
          await sairDaTelaCheia();
          video.pause();
          alert('O v√≠deo est√° sendo reproduzido sem som. Por favor, ative o √°udio para uma melhor experi√™ncia.');
        }

        alert('teste2');
      }, 15000); // 15000 milissegundos = 15 segundos

    } catch (error) {
      await sairDaTelaCheia();
      video.pause();
      alert('N√£o foi poss√≠vel reproduzir o v√≠deo. Por favor, permita a reprodu√ß√£o de m√≠dia e clique em "abrir" para executar o convite.');
    }
  });

  video.addEventListener('ended', () => {
    window.location.href = "index.html";
  });
</script>-->



<!--<script>
  const botao = document.getElementById('botaoPlay');
  const video = document.getElementById('meuVideo');
  const oculta_topo = document.getElementById('oculta_topo');
  const oculta_meio = document.getElementById('oculta_meio');

  async function sairDaTelaCheia() {
    if (document.fullscreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {
      if (document.exitFullscreen) {
        await document.exitFullscreen();
      } else if (document.webkitExitFullscreen) {
        await document.webkitExitFullscreen();
      } else if (document.msExitFullscreen) {
        await document.msExitFullscreen();
      }
    }
  }

  botao.addEventListener('click', async () => {
    botao.style.display = 'none';
    oculta_topo.style.display = 'none';
    oculta_meio.style.display = 'none';
    video.style.display = 'block';

    try {
      await video.play();

      // Verifica se est√° sem som
      /*if (video.muted || video.volume === 0) {
        await sairDaTelaCheia();
        video.pause();
        alert('O v√≠deo est√° sendo reproduzido sem som. Por favor, ative o √°udio para uma melhor experi√™ncia.');
        return;
      }*/

      // Solicita tela cheia
      const requestFullScreen = video.requestFullscreen || video.webkitRequestFullscreen || video.msRequestFullscreen;
      if (requestFullScreen) {
        await requestFullScreen.call(video);
      }

      if (video.muted || video.volume === 0) {
        await sairDaTelaCheia();
        video.pause();
        alert('O v√≠deo est√° sendo reproduzido sem som. Por favor, ative o √°udio para uma melhor experi√™ncia.');
        return;
      }

    } catch (error) {
      // Falhou ao executar v√≠deo
      await sairDaTelaCheia();
      video.pause();
      alert('N√£o foi poss√≠vel reproduzir o v√≠deo. Por favor, permita a reprodu√ß√£o de m√≠dia e clique em "abrir" para executar o convite.');
    }
  });

  video.addEventListener('ended', () => {
    window.location.href = "index.html";
  });

</script>-->



  <!--<script>
    const botao = document.getElementById('botaoPlay');
    const video = document.getElementById('meuVideo');
    //const audio = document.getElementById('meuAudio');

    const oculta_topo = document.getElementById('oculta_topo');
    const oculta_meio = document.getElementById('oculta_meio');

    botao.addEventListener('click', () => {
      botao.style.display = 'none';
      oculta_topo.style.display = 'none';
      oculta_meio.style.display = 'none';
      video.style.display = 'block';

      //audio.play();
      //video.play();
      /*video.play().catch((error) => {
        alert('N√£o foi poss√≠vel reproduzir o v√≠deo automaticamente. Por favor, permita a reprodu√ß√£o de m√≠dia ou clique no v√≠deo para iniciar.');
      });*/

      if(video.play().catch((error) => {
        alert('N√£o foi poss√≠vel reproduzir o v√≠deo automaticamente. Por favor, permita a reprodu√ß√£o de m√≠dia ou clique no v√≠deo para iniciar.');
      })){
        const requestFullScreen = video.requestFullscreen || video.webkitRequestFullscreen || video.msRequestFullscreen;
        if (requestFullScreen) requestFullScreen.call(video);
      }

      /*const requestFullScreen = video.requestFullscreen || video.webkitRequestFullscreen || video.msRequestFullscreen;
      if (requestFullScreen) requestFullScreen.call(video);*/
    });

    video.addEventListener('ended', () => {
      window.location.href = "index.html";
    });
  </script>-->

</body>
</html>
